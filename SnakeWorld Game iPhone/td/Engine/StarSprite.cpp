#include "stdafx.h"
#include "StarSprite.h"

float StarTooSmall[] = {
	-8000, -8000,
	-8000, 8000,
	8000, 8000,

	-8000, -8000,
	8000, -8000,
	8000, 8000
};

float StarTriangles[] = {
	//-11.4245f, 15.5616f, /*0.000f,*/	// 4
	//-47.6288f, 15.2149f, /*0.000f,*/	// 5
	//-18.3303f, -6.0565f, /*0.000f,*/	// 6

	//0.0957f,	-19.3048f, /*0.000f,*/	// 8
	//0.0957f,	-19.3048f, /*0.000f,*/	// 9
	//18.3895f,-5.8745f, /*0.000f,*/	// 0

	//-18.3303f, -6.0565f, /*0.000f,*/	// 6
	//-29.1884f, -40.5960f, /*0.000f,*/	// 7
	//0.0957f,	-19.3048f, /*0.000f,*/	// 8

	//11.2696f, 15.6741f, /*0.000f,*/	// 2
	//-0.2479f, 49.9994f, /*0.000f,*/	// 3
	//-11.4245f, 15.5616f, /*0.000f,*/	// 4

	//18.3895f,-5.8745f, /*0.000f,*/	// 0
	//47.4756f, 15.6864f, /*0.000f,*/	// 1
	//11.2696f, 15.6741f, /*0.000f,*/	// 2

	//18.3895f,-5.8745f, /*0.000f,*/	// 0
	//11.2696f, 15.6741f, /*0.000f,*/	// 2
	//-11.4245f, 15.5616f, /*0.000f,*/	// 4

	//18.3895f,-5.8745f, /*0.000f,*/	// 0
	//-11.4245f, 15.5616f, /*0.000f,*/	// 4
	//-18.3303f, -6.0565f, /*0.000f,*/	// 6

	//18.3895f,-5.8745f, /*0.000f,*/	// 0
	//-18.3303f, -6.0565f, /*0.000f,*/	// 6
	//0.0957f,	-19.3048f, /*0.000f,*/	// 8

	47.4756f, 15.6864f, /*0.000f,*/	// 1
	18.3895f,-5.8745f, /*0.000f,*/	// 0
	165.6875f, -62.1237f, /*0.000f,*/	// 10

	47.4756f, 15.6864f, /*0.000f,*/	// 1
	165.6875f, -62.1237f, /*0.000f,*/	// 10
	100.8618f, 147.3764f, /*0.000f,*/ // 11

	100.8618f, 147.3764f, /*0.000f,*/ // 11
	47.4756f, 15.6864f, /*0.000f,*/	// 1
	11.2696f, 15.6741f, /*0.000f,*/	// 2

	-0.2479f, 49.9994f, /*0.000f,*/	// 3
	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-11.4245f, 15.5616f, /*0.000f,*/	// 4

	-47.6288f, 15.2149f, /*0.000f,*/	// 5
	-18.3303f, -6.0565f, /*0.000f,*/	// 6
	-170.4225f, -54.8511f, /*0.000f,*/ // 13

	-18.3303f, -6.0565f, /*0.000f,*/	// 6
	-29.1884f, -40.5960f, /*0.000f,*/	// 7
	-170.4225f, -54.8511f, /*0.000f,*/ // 13

	-29.1884f, -40.5960f, /*0.000f,*/	// 7
	3.0009f, -176.2516f, /*0.000f,*/ // 14
	0.0957f,	-19.3048f, /*0.000f,*/	// 8

	0.0957f,	-19.3048f, /*0.000f,*/	// 8
	3.0009f, -176.2516f, /*0.000f,*/ // 14
	29.5894f,	-40.3047f, /*0.000f,*/	// 9

	29.5894f,	-40.3047f, /*0.000f,*/	// 9
	18.3895f,-5.8745f, /*0.000f,*/	// 0
	165.6875f, -62.1237f, /*0.000f,*/	// 10

	11.2696f, 15.6741f, /*0.000f,*/	// 2
	-0.2479f, 49.9994f, /*0.000f,*/	// 3
	100.8618f, 147.3764f, /*0.000f,*/ // 11

	-11.4245f, 15.5616f, /*0.000f,*/	// 4
	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-47.6288f, 15.2149f, /*0.000f,*/	// 5

	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-47.6288f, 15.2149f, /*0.000f,*/	// 5
	-170.4225f, -54.8511f, /*0.000f,*/ // 13

	-170.4225f, -54.8511f, /*0.000f,*/ // 13
	-29.1884f, -40.5960f, /*0.000f,*/	// 7
	3.0009f, -176.2516f, /*0.000f,*/ // 14

	3.0009f, -176.2516f, /*0.000f,*/ // 14
	29.5894f,	-40.3047f, /*0.000f,*/	// 9
	165.6875f, -62.1237f, /*0.000f,*/	// 10

	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-0.2479f, 49.9994f, /*0.000f,*/	// 3
	100.8618f, 147.3764f, /*0.000f,*/ // 11

	165.6875f, -62.1237f, /*0.000f,*/	// 10
	8000, -8000, /*0.000f,*/ // 15
	3.0009f, -176.2516f, /*0.000f,*/ // 14

	3.0009f, -176.2516f, /*0.000f,*/ // 14
	-8000, -8000, /*0.000f,*/	// 16
	8000, -8000, /*0.000f,*/ // 15

	3.0009f, -176.2516f, /*0.000f,*/ // 14
	-170.4225f, -54.8511f, /*0.000f,*/ // 13
	-8000, -8000, /*0.000f,*/	// 16

	-8000, 236.4637f, /*0.000f,*/	// 17
	-8000, -8000, /*0.000f,*/	// 16
	-170.4225f, -54.8511f, /*0.000f,*/ // 13

	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-170.4225f, -54.8511f, /*0.000f,*/ // 13
	-8000, 236.4637f, /*0.000f,*/	// 17

	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-8000, 236.4637f, /*0.000f,*/ // 17
	-8000, 8000, /*0.000f,*/ // 18

	100.8618f, 147.3764f, /*0.000f,*/ // 11
	-106.7805f, 144.6581f, /*0.000f,*/ // 12
	-8000, 8000, /*0.000f,*/ // 18

	8000, 8000, /*0.000f,*/ // 19
	8000, -8000, /*0.000f,*/ // 15
	165.6875f, -62.1237f, /*0.000f,*/	// 10

	100.8618f, 147.3764f, /*0.000f,*/ // 11
	-8000, 8000, /*0.000f,*/ // 18
	8000, 8000, /*0.000f,*/ // 19

	8000, 8000, /*0.000f,*/ // 19
	165.6875f, -62.1237f, /*0.000f,*/	// 10
	100.8618f, 147.3764f, /*0.000f,*/ // 11

	0,0,0
};

float spriteTexcoords[] = 
{
	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,


	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

	0, .5f,
	.5f, .5f,
	0, 0,

};

StarSprite::StarSprite( TextureNumber tex ) : Sprite(tex)
{

}

void StarSprite::DrawVertexes()
{
	singleanim->Render();
	glBindTexture(GL_TEXTURE_2D, singleanim->GetTexture()->spriteTexture);
	glTexCoordPointer(2, GL_FLOAT, 0, spriteTexcoords);

	int vert_count = 75;
	if (GetSize()->m_w.getValue() < 32 || GetSize()->m_h.getValue() < 32)
	{
		glVertexPointer(2, GL_FLOAT, 0, StarTooSmall);
		vert_count = 6;
	}
	else
	{
		glVertexPointer(2, GL_FLOAT, 0, StarTriangles);
	}
	glEnableClientState(GL_VERTEX_ARRAY);
//	glDisableClientState(GL_TEXTURE_COORD_ARRAY);
//	glEnableClientState(GL_COLOR_ARRAY)

	glColor4f(fade.r.getValue(), fade.g.getValue(), fade.b.getValue(), fade.a.getValue());
	glPushMatrix();
	glScalef(GetSize()->m_w.getValue()/50, GetSize()->m_h.getValue()/50, 0);
	glDrawArrays(GL_TRIANGLES, 0, vert_count);
	glPopMatrix();
	glColor4f(1.0f, 1.0f, 1.0f, 1.0f);

}

